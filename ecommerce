
CREATE TABLE CLIENTE (
    idCliente INT AUTO_INCREMENT PRIMARY KEY,
    nome VARCHAR(45),
    endereco VARCHAR(45),
    telefone VARCHAR(45),
    cpf INT
) ENGINE=InnoDB;


CREATE TABLE PEDIDO (
    idPedido INT AUTO_INCREMENT PRIMARY KEY,
    servico VARCHAR(45),
    dataSolicitacao DATE,
    cliente_idCliente INT,
    quebrado TINYINT,
    CONSTRAINT fk_pedido_cliente
        FOREIGN KEY (cliente_idCliente)
        REFERENCES CLIENTE (idCliente)
        ON UPDATE CASCADE
        ON DELETE RESTRICT
) ENGINE=InnoDB;


    idResponsavel INT AUTO_INCREMENT PRIMARY KEY,
    nome VARCHAR(45),
    setor VARCHAR(45)
) ENGINE=InnoDB;


CREATE TABLE ANALISE_DE_PEDIDO (
    idAnalise INT AUTO_INCREMENT PRIMARY KEY,
    responsavel_idResponsavel INT NOT NULL,
    pedido_idPedido INT NOT NULL,
    -- Se desejar tornar (responsavel_idResponsavel, pedido_idPedido) Ãºnico, adicione:
    -- UNIQUE (responsavel_idResponsavel, pedido_idPedido),
    CONSTRAINT fk_analise_responsavel
        FOREIGN KEY (responsavel_idResponsavel)
        REFERENCES RESPONSAVEL (idResponsavel)
        ON UPDATE CASCADE
        ON DELETE RESTRICT,
    CONSTRAINT fk_analise_pedido
        FOREIGN KEY (pedido_idPedido)
        REFERENCES PEDIDO (idPedido)
        ON UPDATE CASCADE
        ON DELETE RESTRICT
) ENGINE=InnoDB;

CREATE TABLE ORDEM_DE_SERVICO (
    idOrdem INT AUTO_INCREMENT PRIMARY KEY,
    responsavel_idResponsavel INT NOT NULL,
    pedido_idPedido INT NOT NULL,
    CONSTRAINT fk_os_responsavel
        FOREIGN KEY (responsavel_idResponsavel)
        REFERENCES RESPONSAVEL (idResponsavel)
        ON UPDATE CASCADE
        ON DELETE RESTRICT,
    CONSTRAINT fk_os_pedido
        FOREIGN KEY (pedido_idPedido)
        REFERENCES PEDIDO (idPedido)
        ON UPDATE CASCADE
        ON DELETE RESTRICT
) ENGINE=InnoDB;
